<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>MÃ¡quina de Memes</title>
        <link rel="stylesheet" href="./src/css/reset.css">
        <link rel="stylesheet" href="./src/css/style.css">
    </head>
    <body>
        <div class="container">
            <div class="app">
                <div class="logo">
                    <img src="./src/images/logo.png" alt="Logo">
                </div>
                <div class="app-image" id="downlabled">
                    <textarea 
                        name="" 
                        class="text-box"
                        placeholder="Digite seu meme"
                        aria-multiline="true"
                    ></textarea>
                    <div id="display-image"></div>
                    <textarea 
                        name="" 
                        class="text-box"
                        placeholder="Digite seu meme"
                        aria-multiline="true"
                    ></textarea>
                </div>
                <div class="app-photo-picker">
                    <select 
                        id="meme-list"
                        onchange="changeMemePicture(this.value)"
                    ></select>
                    <input 
                        type="file" 
                        id="image-input" 
                        accept="image/jpeg, image/png, image/jpg">
                </div>
                <div class="download">
                    <button id="btn-download">DOWNLOAD</button>
                </div>
            </div>
        </div>
        <script src="./src/js/script.js"></script>
        <script src="./src/js/html2canvas.js"></script>
        <script>
            document.getElementById("btn-download").onclick = () => {
                const screenshotPrint = document.querySelector("#downlabled")

                html2canvas(screenshotPrint).then((canvas)=>{
                    const base64Image = canvas.toDataURL("image/png")
                    let anchor = document.createElement("a")
                    anchor.setAttribute("href", base64Image)
                    anchor.setAttribute("download", "my-meme.png")
                    anchor.click()
                    anchor.remove()
                })
            }
        </script>
    </body>
</html>